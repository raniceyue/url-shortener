{"version":3,"sources":["util/global.tsx","data/api.ts","util/helper.tsx","components/Footer.tsx","components/Form.tsx","components/Sidebar.tsx","components/LinkCard.tsx","components/LinksList.tsx","styles/theme.tsx","App.tsx","index.tsx"],"names":["dotenv","config","API_BASEURL","SHORT_BASEURL","process","createShort","data","a","axios","post","then","res","catch","error","response","getLong","short","get","hash","url","createHash","update","digest","slice","getLocalStorageLinks","localLinks","localStorage","getItem","JSON","parse","setItem","stringify","removeFromLocalStorage","link","updatedLinks","filter","l","findLinkFromLocalStorage","length","Footer","Toolbar","className","Form","props","useState","open","title","content","dialog","setDialog","urlFieldError","setUrlFieldError","name","long","setLink","linkHash","linkExists","errorDialog","status","handleUpdateData","Box","width","xs","md","lg","Paper","elevation","Typography","variant","TextField","required","placeholder","margin","onChange","e","target","value","InputLabelProps","shrink","replace","test","helperText","mt","my","display","alignContent","Button","color","onClick","handleSubmit","Dialog","onClose","DialogContent","DialogTitle","DialogContentText","Sidebar","LinkCard","formatted","collapse","setCollapse","Collapse","in","IconButton","setTimeout","handleDeleteLink","CardContent","style","alignItems","Link","href","navigator","clipboard","writeText","fontSize","LinksList","loading","CircularProgress","map","theme","createTheme","typography","fontFamily","join","spacing","App","setData","setLoading","useEffect","fetchedData","requests","Promise","all","forEach","console","log","localLink","find","push","getLongLinks","ThemeProvider","Grid","container","spacing-sm","spacing-lg","item","sm","xl","unshift","updateLocalStorageLinks","mr","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ae8c3836.chunk.js","sourcesContent":["import dotenv from 'dotenv'\n\ndotenv.config()\n\nconst IS_PROD = process.env.NODE_ENV === 'production' \n\nexport const API_BASEURL: string = (IS_PROD ? process.env.REACT_APP_PROD_BASEURL : process.env.REACT_APP_LOCAL_BASEURL) + 'api/urls/'\nexport const SHORT_BASEURL: string | undefined = IS_PROD ? process.env.REACT_APP_PROD_BASEURL : process.env.REACT_APP_LOCAL_BASEURL","import axios from 'axios'\nimport dotenv from 'dotenv'\n\nimport { API_BASEURL } from '../util/global'\n\ndotenv.config()\n\nexport interface Url {\n  short: string;\n  long: string;\n}\n\n/**\n * Function that makes API call to create short link\n * @param data - Date used to create short link, contains hash and long link\n * @returns Promise<any> - API response data\n */\nexport async function createShort(data: Url): Promise<any> {\n  const res = await axios\n    .post(API_BASEURL, data)\n    .then((res: any) => {\n      return res\n    })\n    .catch((error) => {\n      return error.response\n    })\n  return res\n}\n\n/**\n * Function that makes API call to retrieve long link based on hash provided\n * @param short - Hash to get long link\n * @returns Promise<any> - API response data\n */\nexport async function getLong(short: string): Promise<any> {\n  const res = await axios\n    .get(API_BASEURL + short)\n    .then((res: any) => {\n      return res\n    })\n    .catch((error: any) => {\n      return error.response\n    })\n  return res\n}","import createHash from 'create-hash'\n\n/**\n * Interface for storing user links in local storage.\n * Links in local storage do not store the long link to save space\n */\nexport interface ILocalLink {\n  name: string;\n  short: string;\n}\n\n/**\n * Interface for displaying user links.\n * User links have an additional name/label defined set by the user\n */\nexport interface IUserLink extends ILocalLink {\n  name: string;\n  short: string;\n  long?: string;\n}\n\n/**\n * Function to generate hash to be used for short link\n * @param url - URL to generate hash for\n * @returns First 8 characters of the SHA256 hash generated from the long link\n */\nexport function hash(url: string): string {\n  return createHash('sha256')\n    .update(url)\n    .digest('hex')\n    .slice(0, 7);\n}\n\n/**\n * Converts short local links from local storage from string into array of `LocalLink`\n * @returns `ILocalLink[]` of short local links from local storage\n */\nexport function getLocalStorageLinks(): ILocalLink[] {\n  let localLinks: string | null = localStorage.getItem('links')\n  if (localLinks) {\n    return JSON.parse(localLinks) as ILocalLink[]\n  } else {\n    localStorage.setItem('links', JSON.stringify([]))\n    return []\n  }\n}\n\n/**\n * Adds new link to local storage\n * @param link - Link to add to local storage\n */\nexport function updateLocalStorageLinks(link: ILocalLink): void {\n  let localLinks: ILocalLink[] = getLocalStorageLinks()\n  localLinks.unshift({ name: link.name, short: link.short })\n  localStorage.setItem('links', JSON.stringify(localLinks))\n}\n\n/**\n * Removes link from local storage\n * @param link to delete from local storage\n */\nexport function removeFromLocalStorage(link: ILocalLink): void {\n  let localLinks: ILocalLink[] = getLocalStorageLinks()\n  let updatedLinks: ILocalLink[] = localLinks.filter(l => JSON.stringify(l) !== JSON.stringify(link))\n  localStorage.setItem('links', JSON.stringify(updatedLinks))\n}\n\n/**\n * Check if a link already exists in local storage\n * @param link - Link to check for\n * @returns `true` or `false` depending on if link is in local storage\n */\nexport function findLinkFromLocalStorage(link: ILocalLink): boolean {\n  let localLinks: ILocalLink[] = getLocalStorageLinks()\n  let matchedLinks: ILocalLink[] = localLinks.filter(l => JSON.stringify(l) === JSON.stringify(link))\n  return matchedLinks.length !== 0\n}","import React from \"react\";\n\nimport { Toolbar } from '@material-ui/core'\n\nimport './Footer.css'\n\nexport default function Footer(): JSX.Element {\n  return (\n    <>\n      <Toolbar/>\n      <footer className=\"footer\">\n        GovTech please hire me &nbsp; | &nbsp; Made with love by Ranice\n      </footer>\n    </>\n  );\n}","import React, { useState } from 'react'\nimport { Typography, Paper, Box } from '@material-ui/core'\nimport { Dialog, DialogTitle, DialogContent, DialogContentText } from '@material-ui/core'\nimport { TextField, Button } from '@material-ui/core'\nimport { IUserLink, hash, findLinkFromLocalStorage } from '../util/helper'\nimport { createShort } from '../data/api'\nimport { SHORT_BASEURL } from 'util/global'\nimport './Form.css'\n\nfunction Form(props: { handleUpdateData: any }): JSX.Element {\n\n  // UI states\n  const [dialog, setDialog] = useState({\n    open: false,\n    title: '',\n    content: ''\n  })\n  const [urlFieldError, setUrlFieldError] = useState(false)\n\n  // Data states\n  const [link, setLink] = useState<IUserLink>({ name: '', short: '', long: '' })\n  const linkHash = link.short === '' ? '...' : link.short\n\n  function handleDialogClose(): void {\n    setDialog({\n      open: false,\n      title: '',\n      content: ''\n    })\n  }\n\n  async function handleSubmit(): Promise<void> {\n    // Check if link with same name and hash already exists in local storage\n    let linkExists = findLinkFromLocalStorage({\n      name: link.name,\n      short: link.short\n    })\n\n    if (urlFieldError) {\n      setDialog({\n        open: true,\n        title: 'Invalid URL!',\n        content: 'You have entered an invalid URL. Please enter a valid URL e.g. https://google.com'\n      })\n    } else {\n      if (linkExists) {\n        setDialog({\n          open: true,\n          title: 'Link already exists',\n          content: 'You have already created this link'\n        })\n      } else {\n        let res: any = await createShort({\n          short: link.short,\n          long: link.long!\n        })\n\n        let errorDialog: any = {\n          open: true,\n          title: 'Sorry :(',\n          content: 'An error occured and we were not able to create the short link.'\n        }\n\n        res\n        ? res.status === 200 \n          ? props.handleUpdateData(link)\n            : setDialog(errorDialog)\n        : setDialog(errorDialog)\n      }\n    }\n  }\n\n  function handleUrlChange(url : string): void {\n    // Validate the url entered by user and display error if not a proper url\n    // eslint-disable-next-line\n    const URL_REGEX : RegExp = /https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?&//=]*)/ig\n    setUrlFieldError(!URL_REGEX.test(url))\n    \n    // Display generated hash for user to see\n    setLink({ ...link, long: url, short: hash(url) })\n  }\n\n  return (\n    <>\n      <Box width={{ xs: '100%', md: '100%', lg: '100%' }}>\n        <Paper className=\"form\" elevation={0}>\n          <form>\n            <Typography variant=\"h6\">\n              Shorten a link\n            </Typography>\n            <div className=\"form-fields\">\n              <TextField \n                required\n                placeholder=\"Link Name\"\n                variant=\"outlined\" \n                margin=\"dense\"\n                onChange={(e) => setLink({ ...link, name: e.target.value })}\n                InputLabelProps={{\n                  shrink: true,\n                }} />\n              <TextField\n                required\n                error={urlFieldError}\n                placeholder=\"URL\"\n                variant=\"outlined\"\n                margin=\"dense\"\n                onChange={(e) => handleUrlChange(e.target.value.replace(/ /g, ''))}\n                helperText=\"Please enter a valid URL\"\n                InputLabelProps={{\n                  shrink: true,\n                }}/>\n            </div>\n            <Box mt={1}>\n              Short link: &nbsp;\n              <Typography variant=\"caption\">\n                {SHORT_BASEURL + linkHash}\n              </Typography>\n            </Box>\n            <Box my={2} display=\"flex\" alignContent=\"right\">\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() => handleSubmit()}\n              >\n                Save\n              </Button>\n            </Box>\n          </form>\n        </Paper>\n      </Box>\n      <Dialog\n        open={dialog.open}\n        onClose={() => handleDialogClose()}\n      >\n        <DialogContent>\n          <DialogTitle>{dialog.title}</DialogTitle>\n          <DialogContentText>\n            {dialog.content}\n          </DialogContentText>\n        </DialogContent>\n      </Dialog>\n    </>\n  );\n}\n\nexport default Form;","import React from \"react\";\n\nimport { Box, Typography } from \"@material-ui/core\";\n\nimport Form from './Form';\n\nimport './Sidebar.css';\n\nexport default function Sidebar(props: { handleUpdateData: any }): JSX.Element {\n  return (\n    <div className=\"sidebar\">\n      <Box width=\"100%\">\n        <Typography className=\"logo\" variant=\"h2\">\n          URL<br/>Shortener\n        </Typography>\n        <Form handleUpdateData={props.handleUpdateData} />\n      </Box>\n    </div>\n  )\n}","import React, { useState } from 'react'\nimport { IconButton, Link, Typography } from '@material-ui/core'\nimport { Paper, CardContent } from '@material-ui/core'\nimport { Collapse } from '@material-ui/core'\n\nimport DeleteIcon from '@material-ui/icons/Delete'\nimport FileCopyIcon from '@material-ui/icons/FileCopy'\n\nimport { IUserLink } from 'util/helper'\nimport { SHORT_BASEURL } from 'util/global'\nimport './LinkCard.css';\n\nexport default function LinkCard(props: {\n  handleDeleteLink: any,\n  link: IUserLink\n}): JSX.Element {\n\n  const formatted = SHORT_BASEURL + props.link.short\n  const [collapse, setCollapse] = useState(true)\n  // const openCopied = useRef(false)\n\n  /**\n   * Callback to handle copying of short link\n   * @param short - Short link to copy\n   */\n  function handleCopy(short: string): void {\n    navigator.clipboard.writeText(short)\n    /* openCopied.current = true\n    setTimeout(() => {\n      openCopied.current = false\n    }, 700)*/\n  }\n\n  /**\n   * Callback to handle deletion of links\n   * Links will only be deleted on the client side as other\n   * people may be using the same links\n   */\n  function handleDelete(): void {\n    setCollapse(false)\n    setTimeout(() => {\n      props.handleDeleteLink(props.link)\n    }, 500)\n  }\n\n  return(\n    <Collapse in={collapse}>\n      <Paper className=\"link-card\" elevation={3}>\n        <IconButton\n          className=\"btn-delete\"\n          onClick={() => handleDelete()}\n        >\n          <DeleteIcon color=\"disabled\" />\n        </IconButton>\n        <CardContent>\n          <Typography className=\"truncate\" variant=\"h6\">\n            {props.link.name} &nbsp;\n          </Typography>\n          <div style={{ display: \"flex\", alignItems: \"center\" }}>\n            {/*<Tooltip\n              open={openCopied.current}\n              disableFocusListener\n              disableHoverListener\n              placement=\"top\"\n              title=\"Copied!\"\n              arrow\n            >*/}\n              <Link href={formatted}>{formatted}</Link>\n            {/*</Tooltip>*/}\n            <button\n              className=\"btn-copy\"\n              onClick={() => handleCopy(formatted)}\n            >\n              <FileCopyIcon color=\"disabled\" fontSize=\"inherit\"/>Copy\n            </button>\n          </div>\n          <Typography\n            className=\"truncate\"\n            variant=\"body2\"\n          >\n            {props.link.long}\n          </Typography>\n        </CardContent>\n      </Paper>\n    </Collapse>\n  )\n}","import React from 'react'\n\nimport { CircularProgress, Typography } from '@material-ui/core'\n\nimport { IUserLink } from '../util/helper'\nimport LinkCard from '../components/LinkCard'\n\nimport './LinksList.css'\n\nexport default function LinksList(props: { \n  handleDeleteLink: any,\n  data: IUserLink[],\n  loading: boolean,\n}): JSX.Element {\n\n  if (props.loading) {\n    return (\n      <div className=\"no-list-container\">\n        <CircularProgress />\n      </div>\n    )\n  } else {\n    if (props.data.length === 0) {\n      return (\n        <div className=\"no-list-container\">\n          <Typography variant=\"h6\">\n            You currently have no short links.\n          </Typography>\n        </div>\n      )\n    }\n  }\n\n  return <>{\n    props.data.map((link: IUserLink) => (\n      <LinkCard \n        key={link.short}\n        handleDeleteLink={props.handleDeleteLink}\n        link={link}\n      />\n    ))\n  }</>\n}","import { createTheme, Theme } from '@material-ui/core/styles'\n\nconst theme: Theme = createTheme({\n  typography: {\n    fontFamily: [\n      'Inter',\n      'serif',\n    ].join(','),\n  },\n  spacing: 8\n});\n\nexport default theme","import React, { useState, useEffect } from 'react';\n\nimport { Box, Grid } from '@material-ui/core'\nimport { ThemeProvider } from '@material-ui/styles'\n\nimport { getLong } from './data/api'\nimport { IUserLink, ILocalLink, getLocalStorageLinks, removeFromLocalStorage, updateLocalStorageLinks } from './util/helper'\n\nimport Footer from './components/Footer';\nimport Sidebar from './components/Sidebar'\nimport LinksList from './components/LinksList';\n\nimport theme from './styles/theme'\nimport './App.css';\n\nfunction App(): JSX.Element {\n  const [data, setData] = useState<IUserLink[]>([])\n  const [loading, setLoading] = useState(true)\n\n  function handleUpdateData(link: IUserLink): void {\n    setData([link, ...data])\n    delete link.long\n    updateLocalStorageLinks(link)\n  }\n\n  function handleDeleteLink(link: IUserLink): void {\n    setData(data.filter(l => l !== link))\n    delete link.long\n    removeFromLocalStorage(link)\n  }\n\n  useEffect(() => {\n    let localLinks: ILocalLink[] = getLocalStorageLinks()\n\n    const getLongLinks = async() => {\n      setLoading(true)\n      let fetchedData: IUserLink[] = []\n\n      // Create array of promises that fetch long links\n      let requests: Promise<any>[] = localLinks.map((link) => {\n        return getLong(link.short)\n      })\n\n      return Promise.all(requests).then((res: any) => {\n        res.forEach((res: any) => {\n          console.log(res.data)\n          if (res) {\n            // Find name of link through local links based on hash\n            let localLink = localLinks.find((l) => l.short === res.data.data.short)\n            let name = localLink ? localLink.name : ''\n            let link: IUserLink = {\n              name: name,\n              short: res.data.data.short,\n              long: ''\n            }\n            switch(res.status) {\n              case 200:\n                link.long = res.data.data.long\n                fetchedData.push(link)\n                break\n              case 404:\n                // If link does not exist in db, remove from local storage\n                delete link.long\n                removeFromLocalStorage(link)\n                break\n              default:\n                console.log('Something went wrong when trying to fetch link')\n                break\n            }\n          }\n        })\n        setData(fetchedData)\n        setLoading(false)\n      })\n    }\n    getLongLinks()\n  }, [])\n\n  return (\n    <ThemeProvider theme={theme}>\n      <Footer />\n      <Grid\n        container\n        spacing-sm={0}\n        spacing-lg={1}\n        alignItems=\"stretch\"\n      >\n        <Grid item xs={12} sm={12} md={5} lg={4} xl={4}>\n          <Sidebar handleUpdateData={handleUpdateData} />\n        </Grid>\n        <Grid item xs={12} sm={12} md={7} lg={8} xl={8}>\n          <Box mr={{ xs: 0, md: 0, lg: 2, xl: 2}}>\n            <LinksList\n              handleDeleteLink={handleDeleteLink}\n              loading={loading}\n              data={data}\n            />\n          </Box>\n        </Grid>\n      </Grid>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root'));\n"],"sourceRoot":""}